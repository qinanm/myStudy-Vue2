<template>
  <div class="student">
      <h2 >学生姓名：{{name}}</h2>
      <h2>学生性别：{{sex}}</h2>
      <h2>当前求和为：{{number}}</h2>
      <button @click="add">点我number++</button>
      <button @click="sentStudentName">把学生名给APP</button>
      <button @click="unbind">解绑atguigu事件</button>
      <button @click="death">销毁当前student组件实例对象</button>
  </div>
</template>

<script>

    export default {
        name:'my-student',
        data() {
            return {
                name:'张三',
                sex:'男',
                number:0
            }
        },
        methods:{
            add(){
                this.number++
                console.log('add回调被调用了')
            },
            sentStudentName(){
                // 触发Student组件实例身上的atguigu事件  直接将名字
                this.$emit('atguigu', this.name) 
                // this.$emit('demo') 
            },
            unbind(){
                // 解绑自定义事件  
                this.$off('atguigu') //解绑一个自定义事件
                // this.$off(['atguigu','demo']) //解绑多个自定义事件
                // this.$off() //解绑所有的自定义事件
            },
            death(){
                this.$destroy()  //销毁了当前student组件的实例  -- 销毁后所有student实例的自定义方法都不奏效了
            }
        }
    }
</script>

<style scoped>
    .student{
        background-color: rgb(44, 151, 110);
        padding: 10px;
    }
</style>